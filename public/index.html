<!--
 *  Copyright (c) 2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the license found in the
 *  LICENSE file in the root directory of this source tree.
 *
-->
<!DOCTYPE html>
<html>
  <head>
    <title>GraphQL Hub</title>
    <link rel="icon" href="/images/favicon.ico">
    <link rel="icon" href="/images/favicon@2x.ico" sizes="32x32">
  </head>
  <body style='padding: 30px; font-family: sans-serif;'>
    <img src="/images/graphqlhub-logo.png" style="float: right;" width="305" height="300" />
    <h1>GraphQLHub APIs:</h1>
    <ul>
      <li><a href="/playground/hn">Explore Hacker News</a></li>
      <li><a href="/playground/reddit">Explore Reddit</a></li>
      <li><a href="/playground/github">Explore GitHub</a></li>
      <li><a href="/playground/twitter">Explore Twitter</a></li>
      <li><a href="/playground/keyvalue">Explore a Relay-compatible Key-Value store</a></li>
    </ul>
    <p>Follow <a href="http://twitter.com/GraphQLHub">@GraphQLHub</a> for more updates. This page intentionally unstyled, for now.</p>
    <div id="chart" style="max-width: 700px; margin: 0 auto;"></div>

    <script src="{{ CONSTANTS.keenPath }}"></script>
    <script type="text/javascript">
      var client = new Keen({
        projectId: "{{ CONSTANTS.keenProjectId }}",
        readKey: "{{ CONSTANTS.keenReadKey }}"

      });

      Keen.ready(function(){
        var query = new Keen.Query("count", {
          eventCollection: "totalDurations",
          interval: "daily",
          timeframe: "this_7_days",
          timezone: "UTC"
        });

        client.draw(query, document.getElementById("chart"), {
          title : 'Queries per Day'
        });

      });
    </script>
  </body>
</html>
